<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bible Lookup</title>
  <!-- Import Roboto font -->
  <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      display: flex;
      flex-direction: column;
      font-family: 'Roboto', sans-serif; /* Apply the Roboto font */
    }
    #container {
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    form {
      padding: 10px;
      background-color: #f0f0f0;
    }
    #bibleIframe {
      flex: 1;
      width: 100%;
      border: none;
    }
  </style>
  <script>
    function updateIframe(e) {
      // Only prevent default if an event is provided (i.e. during form submission)
      if (e && e.preventDefault) {
        e.preventDefault();
      }

      // Get selected values
      const book = document.getElementById("bookList").value;
      const chapter = document.getElementById("chapterList").value;
      const version = document.getElementById("version").value;

      // Construct the URL
      const newPageURL = `https://www.biblegateway.com/passage/?search=${encodeURIComponent(book)}${encodeURIComponent(chapter)}&version=${encodeURIComponent(version)}&interface=print`;

      // Update the iframe to display the new page
      document.getElementById("bibleIframe").src = newPageURL;
    }

    const oldTestamentBooks = [
      "Genesis", "Exodus", "Leviticus", "Numbers", "Deuteronomy",
      "Joshua", "Judges", "Ruth", "1 Samuel", "2 Samuel",
      "1 Kings", "2 Kings", "1 Chronicles", "2 Chronicles", "Ezra",
      "Nehemiah", "Esther", "Job", "Psalms", "Proverbs",
      "Ecclesiastes", "Song of Solomon", "Isaiah", "Jeremiah", "Lamentations",
      "Ezekiel", "Daniel", "Hosea", "Joel", "Amos",
      "Obadiah", "Jonah", "Micah", "Nahum", "Habakkuk",
      "Zephaniah", "Haggai", "Zechariah", "Malachi"
    ];

    const newTestamentBooks = [
      "Matthew", "Mark", "Luke", "John", "Acts",
      "Romans", "1 Corinthians", "2 Corinthians", "Galatians", "Ephesians",
      "Philippians", "Colossians", "1 Thessalonians", "2 Thessalonians",
      "1 Timothy", "2 Timothy", "Titus", "Philemon", "Hebrews",
      "James", "1 Peter", "2 Peter", "1 John", "2 John",
      "3 John", "Jude", "Revelation"
    ];

    function populateBooks() {
      const bookList = document.getElementById("bookList");
      bookList.innerHTML = ""; // Clear the current list

      const includeOldTestament = document.getElementById("oldTestament").checked;
      const includeNewTestament = document.getElementById("newTestament").checked;

      let booksToDisplay = [];
      if (includeOldTestament) booksToDisplay = booksToDisplay.concat(oldTestamentBooks);
      if (includeNewTestament) booksToDisplay = booksToDisplay.concat(newTestamentBooks);

      booksToDisplay.forEach(book => {
        const option = document.createElement("option");
        option.value = book;
        option.textContent = book;
        bookList.appendChild(option);
      });
      populateChapters();
    }

    const bibleBooks = {
      // Old Testament
      "Genesis": 50, "Exodus": 40, "Leviticus": 27, "Numbers": 36, "Deuteronomy": 34,
      "Joshua": 24, "Judges": 21, "Ruth": 4, "1 Samuel": 31, "2 Samuel": 24,
      "1 Kings": 22, "2 Kings": 25, "1 Chronicles": 29, "2 Chronicles": 36, "Ezra": 10,
      "Nehemiah": 13, "Esther": 10, "Job": 42, "Psalms": 150, "Proverbs": 31,
      "Ecclesiastes": 12, "Song of Solomon": 8, "Isaiah": 66, "Jeremiah": 52, "Lamentations": 5,
      "Ezekiel": 48, "Daniel": 12, "Hosea": 14, "Joel": 3, "Amos": 9,
      "Obadiah": 1, "Jonah": 4, "Micah": 7, "Nahum": 3, "Habakkuk": 3,
      "Zephaniah": 3, "Haggai": 2, "Zechariah": 14, "Malachi": 4,
      
      // New Testament
      "Matthew": 28, "Mark": 16, "Luke": 24, "John": 21, "Acts": 28,
      "Romans": 16, "1 Corinthians": 16, "2 Corinthians": 13, "Galatians": 6, "Ephesians": 6,
      "Philippians": 4, "Colossians": 4, "1 Thessalonians": 5, "2 Thessalonians": 3,
      "1 Timothy": 6, "2 Timothy": 4, "Titus": 3, "Philemon": 1, "Hebrews": 13,
      "James": 5, "1 Peter": 5, "2 Peter": 3, "1 John": 5, "2 John": 1,
      "3 John": 1, "Jude": 1, "Revelation": 22
    };

    function populateChapters() {
      const book = document.getElementById("bookList").value;
      const chapterList = document.getElementById("chapterList");
      chapterList.innerHTML = ""; // Clear the current list

      const chapterCount = bibleBooks[book];
      if (chapterCount) {
        for (let i = 1; i <= chapterCount; i++) {
          const option = document.createElement("option");
          option.value = i;
          option.textContent = i;
          chapterList.appendChild(option);
        }
      }
    }
  </script>
</head>
<body>
  <div id="container">
    <!-- Form submission passes the event to prevent default form submission -->
    <form onsubmit="updateIframe(event)">
      <label>
        <input type="checkbox" id="oldTestament" onclick="populateBooks(); updateIframe();"> OT
      </label>
      <label>
        <input type="checkbox" id="newTestament" onclick="populateBooks(); updateIframe();"> NT
      </label>
      <label for="bookList">Book:</label>
      <select id="bookList" name="book" required onchange="populateChapters(); updateIframe();">
        <!-- Options will be populated dynamically -->
      </select>
      <label for="chapterList">Chapter:</label>
      <select id="chapterList" name="chapter" required onchange="updateIframe();">
        <option value="1" selected>1</option>
      </select>
      <label for="version">Version:</label>
      <select id="version" name="version" required onchange="updateIframe();">
        <option value="NIV">NIV</option>
        <option value="NLT">NLT</option>
        <option value="ESV">ESV</option>
        <option value="NKJV">NKJV</option>
        <option value="KJV">KJV</option>
      </select>
      <!-- <button type="submit">Submit</button> -->
    </form>
    <iframe id="bibleIframe"></iframe>
  </div>
</body>
</html>
